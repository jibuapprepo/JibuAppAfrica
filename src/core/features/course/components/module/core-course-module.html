<ion-card *ngIf="module.handlerData && module.visibleoncoursepage !== 0"
    class="activity-card core-course-module-handler {{module.handlerData.class}} trace" [class.core-course-module-with-view]="moduleHasView"
    [class.item-dimmed]="module.visible === 0 || module.uservisible === false" (click)="moduleClicked($event)"
    [attr.tappable]="module.handlerData.action && module.uservisible ? '' : null"
    [class.ion-activatable]="module.handlerData.action && module.uservisible"
    [attr.aria-label]="module.handlerData.a11yTitle ? module.handlerData.a11yTitle : null" id="core-course-module-{{module.id}}">
    <ng-container *ngIf="!module.handlerData.loading">
        <ion-item class="ion-text-wrap">
            <ion-label>


                <div class="activity-main">



                    <core-mod-icon *ngIf="module.handlerData.icon" [modicon]="module.handlerData.icon" [modname]="module.modname"
                        [componentId]="module.instance" [fallbackTranslation]="module.modplural" [purpose]="module.purpose"
                        [isBranded]="module.branded" />


                </div>



                <!-- Activity completion.
                <core-course-module-completion class="activity-extra" *ngIf="hasCompletion && !showLegacyCompletion"
                    [completion]="module.completiondata" [moduleName]="module.name" [moduleId]="module.id"
                    [showCompletionConditions]="showCompletionConditions" [showManualCompletion]="showManualCompletion"
                    (completionChanged)="completionChanged.emit($event)" />
                    -->
            </ion-label>

        </ion-item>



        @if (module.handlerData.action && module.uservisible) {
            <ion-ripple-effect />
        }
    </ng-container>

    <!-- Loading. -->
    <ion-item *ngIf="module.handlerData.loading" role="status" class="ion-text-wrap core-module-loading"
        [attr.aria-label]="module.handlerData.a11yTitle" [detail]="false">
        <ion-label>
            <ion-spinner [attr.aria-label]="'core.loading' | translate" />
        </ion-label>
    </ion-item>
</ion-card>
