<ion-header class="amep-nav-bg">
    <div class="dfa-logo"></div>
    <div class="amep-phase-banner">
        <ion-back-button [text]="'core.back' | translate" />
    </div>
</ion-header>
<!--
<ion-header class="no-title">
    <ion-toolbar>
        <ion-buttons slot="start" *ngIf="!isModal">
            <ion-back-button [text]="'core.back' | translate" />
        </ion-buttons>
        <ion-title />
        <ion-buttons slot="end" *ngIf="isModal">
            <ion-button fill="clear" (click)="closeModal()" [ariaLabel]="'core.close' | translate">
                <ion-icon slot="icon-only" name="fas-xmark" aria-hidden="true" />
            </ion-button>
        </ion-buttons>
    </ion-toolbar>
</ion-header>
-->
<ion-content>
    <ion-refresher slot="fixed" [disabled]="!dataLoaded" (ionRefresh)="refreshData($event.target)">
        <ion-refresher-content pullingText="{{ 'core.pulltorefresh' | translate }}" />
    </ion-refresher>
    <core-loading [hideUntil]="dataLoaded">
        <!--
        <div *ngIf="course" class="core-course-thumb course-launch-box" #courseThumb>
            <img *ngIf="course.courseimage" [url]="course.courseimage" core-external-content [alt]="course.fullname" (error)="loadFallbackCourseIcon()" />
            <ion-icon *ngIf="!course.courseimage" name="fas-graduation-cap" class="course-icon" aria-hidden="true" />
            <div class="amep-phase-banner">banner</div>
        </div>
        -->


        <div *ngIf="course" class="course-container">
            <ion-card class="core-course-maininfo amep-course-launch-box" #courseThumb>
                <img class="amep-course-background-image" *ngIf="course.courseimage" [url]="course.courseimage" core-external-content [alt]="course.fullname" (error)="loadFallbackCourseIcon()" />
                <ion-icon *ngIf="!course.courseimage" name="fas-graduation-cap" class="course-icon" aria-hidden="true" />
            </ion-card>
            <div class="list-item-limited-width">
                <ion-item class="amep-course-name">
                        <p *ngIf="course.displayname && course.shortname && course.fullname !== course.displayname"
                            class="core-course-shortname">
                            <core-format-text [text]="course.shortname" contextLevel="course" [contextInstanceId]="course.id" />
                        </p>
                        <div class="amep-course-summary-course-name">
                            <span class="sr-only">{{ 'core.courses.aria:coursename' | translate }}</span>
                            <core-format-text [text]="course.fullname" contextLevel="course" [contextInstanceId]="course.id" />
                        </div>
                </ion-item>
                <ion-item class="amep-course-summary-start-button-item">
                    <button (click)="gotoCourseDownloads()" *ngIf="canAccessCourse" expand="block" fill="outline" class="amep-start-button">
                        <span class="amep-button-text">Download</span>
                        <ion-icon name="fas-cloud-arrow-down" slot="icon-only" aria-hidden="true" />
                    </button>
                </ion-item>
                <br/>
                <ion-item class="amep-course-summary-start-button-item">
                    <button (click)="openCourse()" *ngIf="canAccessCourse" expand="block" fill="outline" class="amep-start-button">
                       <span class="amep-button-text">Start</span>
                    </button>
                </ion-item>
            </div>
        </div>
    </core-loading>
</ion-content>
